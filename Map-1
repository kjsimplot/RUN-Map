<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Skilled Nursing Certified Hospital Locations Map</title>

  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster/dist/MarkerCluster.css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster/dist/MarkerCluster.Default.css" />

  <style>
    body {
      font-family: Aptos, sans-serif;
      color: #132f45;
      background-color: #f8f9fa;
      margin: 0;
      padding: 40px 0;
    }
    .map-container {
      max-width: 900px;
      margin: 0 auto;
      background: white;
      border-radius: 12px;
      box-shadow: 0 3px 10px rgba(0,0,0,0.15);
      overflow: hidden;
    }
    .map-header {
      background-color: #c10e21;
      color: white;
      text-align: center;
      padding: 20px;
    }
    .map-header h2 {
      margin: 0;
      font-size: 24px;
    }
    .map-header p {
      margin: 8px 0 0;
      font-size: 16px;
    }
    .search-bar {
      background: #f1f3f5;
      padding: 15px;
      text-align: center;
      border-bottom: 1px solid #dee2e6;
    }
    .search-bar input {
      width: 80%;
      max-width: 500px;
      padding: 10px 15px;
      font-size: 16px;
      border-radius: 6px;
      border: 2px solid #c10e21;
      outline: none;
    }
    .search-bar input:focus {
      border-color: #17a2b8;
    }
    #hospitalMap {
      height: 500px;
      width: 100%;
      border-top: 2px solid #868e96;
    }
  </style>
</head>
<body>

  <div class="map-container">
    <div class="map-header">
      <h2>Hospital Locations</h2>
      <p>Explore hospital locations across the U.S. â€” click markers or search below.</p>
    </div>

    <!-- Visible search bar above the map -->
    <div class="search-bar">
      <input type="text" id="hospitalSearch" placeholder="ðŸ” Find a hospital or city..." />
    </div>

    <div id="hospitalMap"></div>
  </div>

  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script src="https://unpkg.com/leaflet.markercluster/dist/leaflet.markercluster.js"></script>

  <script>
    (function() {
      const map = L.map('hospitalMap').setView([39.8283, -98.5795], 4);

      // Base map tiles
      L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {
        attribution: 'Â© OpenStreetMap contributors Â© CARTO'
      }).addTo(map);

      // Hospital data
const hospitals = [
  {
    name: "Sante of Surprise Rehab",
    city: "Surprise, AZ",
    address: "14775 W Yorkshire Drive, Surprise, AZ 85374",
    url: "https://santecares.com/locations/sante-of-surprise/",
    lat: 33.6299,
    lng: -112.3815
  },
  {
    name: "English Oaks Convalescent & Rehabilitation Hospital",
    city: "Modesto, CA",
    address: "2633 W Rumble Road, Modesto, CA 95350",
    url: "https://lifegen.net/locations/english-oaks-convalescent-rehabilitation-hospital/",
    lat: 37.6212,
    lng: -121.0266
  },
  {
    name: "Tampico Terrace Healthcare Center",
    city: "Walnut Creek, CA",
    address: "130 Tampico, Walnut Creek, CA 94598",
    url: "https://tampico-terrace-care-center7.webnode.page/",
    lat: 37.9237,
    lng: -122.0711
  },
  {
    name: "Pleasanton Nursing & Rehabilitation Center",
    city: "Pleasanton, CA",
    address: "300 Neal Street, Pleasanton, CA 94566",
    url: "https://lifegen.net/locations/pleasanton-nursing-rehabilitation-center/",
    lat: 37.6587,
    lng: -121.8731
  },
  {
    name: "Kimberly Hall South",
    city: "Windsor, CT",
    address: "1 Emerson Drive, Windsor, CT 06095",
    url: "https://completecarekhs.com/",
    lat: 41.8636,
    lng: -72.6742
  },
  {
    name: "Mansfield Center for Nursing & Rehabilitation",
    city: "Storrs, CT",
    address: "100 Warren Circle, Storrs, CT 06268",
    url: "https://mcnr.org/",
    lat: 41.8086,
    lng: -72.2595
  },
  {
    name: "Riverside Health & Rehabilitation Center",
    city: "East Hartford, CT",
    address: "745 Main Street, East Hartford, CT 06108",
    url: "https://riverrehab.com/",
    lat: 41.7742,
    lng: -72.6379
  },
  {
    name: "West Gables Rehabilitation Center",
    city: "Miami, FL",
    address: "2525 SW 75th Ave, Miami, FL 33155",
    url: "https://www.westgablesrehabhospital.com/",
    lat: 25.7465,
    lng: -80.3176
  },
  {
    name: "Skyline Transitional Care Center",
    city: "Boise, ID",
    address: "1001 S Hilton Street, Boise, ID 83705",
    url: "https://skylinetransitional.com/",
    lat: 43.5974,
    lng: -116.2269
  },
  {
    name: "Ascension Living Saint Benedict Village",
    city: "Niles, IL",
    address: "6930 West Touhy Avenue, Niles, IL 60714",
    url: "https://citadelhealthcare.com/saint-benedict",
    lat: 42.0108,
    lng: -87.8056
  },
  {
    name: "Hancock County Health System",
    city: "Britt, IA",
    address: "532 1st Street NW, Britt, IA 50423",
    url: "https://www.mercyonenorthiowaaffiliates.org/hchs",
    lat: 43.0976,
    lng: -93.8002
  },
  {
    name: "Springbrook Center",
    city: "Westbrook, ME",
    address: "300 Spring Street, Westbrook, ME 04092",
    url: "https://www.genesishcc.com/springbrookme",
    lat: 43.6854,
    lng: -70.3706
  },
  {
    name: "Collingswood Rehabilitation & Healthcare Center",
    city: "Rockville, MD",
    address: "299 Hurley Avenue, Rockville, MD 20850",
    url: "https://collingswoodrehab.com/",
    lat: 39.0916,
    lng: -77.1407
  },
  {
    name: "Meadow Park Rehabilitation & Healthcare Center",
    city: "Catonsville, MD",
    address: "1525 N Rolling Road, Catonsville, MD 21228",
    url: "https://meadowparkrehabhc.com/",
    lat: 39.2899,
    lng: -76.7602
  },
  {
    name: "Orchard Hill Rehabilitation & Healthcare Center",
    city: "Towson, MD",
    address: "111 West Road, Towson, MD 21204",
    url: "https://orchardhillrehab.com/",
    lat: 39.4091,
    lng: -76.6014
  },
  {
    name: "Westgate Hills Rehabilitation & Healthcare Center",
    city: "Baltimore, MD",
    address: "10 North Rock Glen Road, Baltimore, MD 21229",
    url: "https://westgatehillshc.com/",
    lat: 39.2885,
    lng: -76.6936
  },
  {
    name: "Briarwood Rehabilitation & Healthcare Center",
    city: "Needham, MA",
    address: "150 Lincoln Street, Needham, MA 02492",
    url: "https://briarwoodrehab.com/",
    lat: 42.2829,
    lng: -71.2431
  },
  {
    name: "Longmeadow of Taunton",
    city: "Taunton, MA",
    address: "68 Dean Street, Taunton, MA 02780",
    url: "https://maseniorcare.org/find-a-facility",
    lat: 41.8959,
    lng: -71.0905
  },
  {
    name: "Mont Marie Rehabilitation & Healthcare Center",
    city: "Holyoke, MA",
    address: "36 Lower Westfield Road, Holyoke, MA 01040",
    url: "https://montmarierehab.com/",
    lat: 42.2137,
    lng: -72.6402
  },
  {
    name: "North End Rehabilitation & Healthcare Center",
    city: "Boston, MA",
    address: "70 Fulton Street, Boston, MA 02109",
    url: "https://northendrehab.com/",
    lat: 42.3638,
    lng: -71.0556
  },
  {
    name: "Presentation Rehabilitation & Skilled Care Center",
    city: "Brighton, MA",
    address: "10 Bellamy Street, Brighton, MA 02135",
    url: "https://presentationrehab.com/",
    lat: 42.3445,
    lng: -71.1539
  },
  {
    name: "River Terrace Rehabilitation & Healthcare Center",
    city: "Lancaster, MA",
    address: "1675 Main Street, Lancaster, MA 01523",
    url: "https://riverterracerehab.com/",
    lat: 42.4584,
    lng: -71.6738
  },
  {
    name: "Webster Park Rehabilitation & Healthcare Center",
    city: "Rockland, MA",
    address: "56 Webster Street, Rockland, MA 02370",
    url: "https://websterparkhealthcare.com/",
    lat: 42.1307,
    lng: -70.9169
  },
  {
    name: "Livonia Woods Nursing & Rehabilitation",
    city: "Livonia, MI",
    address: "33600 Luther Lane, Livonia, MI 48154",
    url: "https://wellspringlutheran.com/",
    lat: 42.4056,
    lng: -83.3748
  },
  {
    name: "Lansdowne Village",
    city: "St. Louis, MO",
    address: "477 N Lindbergh Blvd, Suite 310, St. Louis, MO 63141",
    url: "https://mgmhealthcare.com/",
    lat: 38.6823,
    lng: -90.4064
  },
  {
    name: "Hackett Hill Center",
    city: "Manchester, NH",
    address: "191 Hackett Hill Road, Manchester, NH 03102",
    url: "https://www.genesishcc.com/hacketthill",
    lat: 42.9574,
    lng: -71.4979
  },
  {
    name: "Beth Abraham Center",
    city: "Bronx, NY",
    address: "612 Allerton Avenue, Bronx, NY 10467",
    url: "https://beth-abraham-center.facilities.centershealthcare.org/",
    lat: 40.8663,
    lng: -73.8654
  },
  {
    name: "Brookhaven Rehabilitation & Healthcare Center",
    city: "Far Rockaway, NY",
    address: "250 Beach 17th Street, Far Rockaway, NY 11691",
    url: "https://brookhavenrehab.com/",
    lat: 40.6027,
    lng: -73.7476
  },
  {
    name: "Schenectady Center",
    city: "Schenectady, NY",
    address: "526 Altamont Avenue, Schenectady, NY 12303",
    url: "https://schenectady-center.facilities.centershealthcare.org/",
    lat: 42.7932,
    lng: -73.9266
  },
  {
    name: "The Silvercrest Center",
    city: "Briarwood, NY",
    address: "144-45 87th Avenue, Briarwood, NY 11435",
    url: "https://silvercrest.org/",
    lat: 40.7099,
    lng: -73.8198
  },
  {
    name: "Forest Hills Care & Rehabilitation Center",
    city: "Broken Arrow, OK",
    address: "4300 West Houston Street, Broken Arrow, OK 74012",
    url: "https://mgmhealthcare.com/facility/foresthills/",
    lat: 36.0525,
    lng: -95.8351
  },
  {
    name: "Kearsley Rehabilitation & Healthcare Center",
    city: "Philadelphia, PA",
    address: "2100 North 49th Street, Philadelphia, PA 19131",
    url: "https://kearsleyrehab.com/",
    lat: 39.9927,
    lng: -75.2276
  },
  {
    name: "New Eastwood Healthcare & Rehabilitation Center",
    city: "Easton, PA",
    address: "2125 Fairview Avenue, Easton, PA 18042",
    url: "https://neweastwoodrehab.com/",
    lat: 40.7092,
    lng: -75.2554
  },
  {
    name: "Norrinton Square Nursing & Rehabilitation Center",
    city: "Norristown, PA",
    address: "1700 Pine Street, Norristown, PA 19401",
    url: "https://www.genesishcc.com/norriton",
    lat: 40.1184,
    lng: -75.3402
  },
  {
    name: "Oxford Rehabilitation & Healthcare Center",
    city: "Langhorne, PA",
    address: "300 E. Winchester Avenue, Langhorne, PA 19047",
    url: "https://oxfordrehabhc.com/",
    lat: 40.1837,
    lng: -74.9235
  },
  {
    name: "Providence Rehabilitation & Healthcare Center at Mercy Fitzgerald",
    city: "Yeadon, PA",
    address: "600 South Wycombe Avenue, Yeadon, PA 19050",
    url: "https://provrehab.com/",
    lat: 39.9394,
    lng: -75.2596
  },
  {
    name: "Roosevelt Rehabilitation & Healthcare Center",
    city: "Philadelphia, PA",
    address: "7800 Bustleton Avenue, Philadelphia, PA 19152",
    url: "https://rooseveltrehab.com/",
    lat: 40.0532,
    lng: -75.0506
  },
  {
    name: "Springfield Rehabilitation & Healthcare Center",
    city: "Springfield, PA",
    address: "463 West Sproul Road, Springfield, PA 19064",
    url: "https://springfieldrehabhc.com/",
    lat: 39.9291,
    lng: -75.3508
  },
  {
    name: "University City Rehabilitation & Healthcare Center",
    city: "Philadelphia, PA",
    address: "3609 Chestnut Street, Philadelphia, PA 19104",
    url: "https://universitycityrehabhc.com/",
    lat: 39.9579,
    lng: -75.1956
  },
  {
    name: "Bayview Rehabilitation at Scalabrini",
    city: "North Kingstown, RI",
    address: "860 N Quidnessett Road, North Kingstown, RI 02852",
    url: "https://bayviewrehabhc.com/",
    lat: 41.6108,
    lng: -71.4769
  },
  {
    name: "Elmhurst Rehabilitation & Healthcare Center",
    city: "Providence, RI",
    address: "50 Maude Street, Providence, RI 02908",
    url: "https://elmhurstrehabhc.com/",
    lat: 41.8362,
    lng: -71.4446
  },
  {
    name: "Morgan Rehabilitation & Healthcare Center",
    city: "Johnston, RI",
    address: "80 Morgan Avenue, Johnston, RI 02919",
    url: "https://morganrehab.com/",
    lat: 41.8276,
    lng: -71.5073
  },
  {
    name: "Overlook Nursing & Rehabilitation Center",
    city: "Pascoag, RI",
    address: "14 Rock Avenue, Pascoag, RI 02859",
    url: "https://overlooknursing.com/",
    lat: 41.9661,
    lng: -71.7072
  },
  {
    name: "Canterbury Rehabilitation & Healthcare Center",
    city: "Richmond, VA",
    address: "1776 Cambridge Drive, Richmond, VA 23238",
    url: "https://canterburyrehab.com/",
    lat: 37.6269,
    lng: -77.5982
  },
  {
    name: "Birch Creek Post Acute & Rehabilitation",
    city: "Tacoma, WA",
    address: "5601 S Orchard Street, Tacoma, WA 98409",
    url: "https://birchcreekpostacute.com/",
    lat: 47.2057,
    lng: -122.5071
  },
  {
    name: "Madison Center",
    city: "Morgantown, WV",
    address: "161 Bakers Ridge Road, Morgantown, WV 26508",
    url: "https://genesishcc.com/madisonwv",
    lat: 39.6618,
    lng: -79.9865
  },
  {
    name: "Bethel Home",
    city: "Oshkosh, WI",
    address: "225 North Eagle Street, Oshkosh, WI 54902",
    url: "https://www.miravidaliving.com/bethel-home/",
    lat: 44.0206,
    lng: -88.5405
  },
  {
    name: "Cedar Community - Main Campus",
    city: "West Bend, WI",
    address: "5595 County Road Z, West Bend, WI 53095",
    url: "https://www.cedarcommunity.org/",
    lat: 43.4259,
    lng: -88.1836
  },
  {
    name: "Miravida Living",
    city: "Oshkosh, WI",
    address: "225 North Eagle Street, Oshkosh, WI 54902",
    url: "https://www.miravidaliving.com/",
    lat: 44.0206,
    lng: -88.5405
  }
];


      const markers = L.markerClusterGroup();
      const hospitalIcon = L.icon({
        iconUrl: 'https://img.icons8.com/?size=100&id=rBh1fuOC6Bjx&format=png&color=000000',
        iconSize: [30, 30],
        iconAnchor: [15, 30],
        popupAnchor: [0, -30]
      });

      const markerList = hospitals.map(h => {
        const marker = L.marker([h.lat, h.lng], { icon: hospitalIcon })
          .bindPopup(`
            <div style='font-family: Aptos, sans-serif; line-height: 1.4;'>
              <strong style='color:#c10e21;'>${h.name}</strong><br>
              <span style='color:#868e96;'>${h.address}</span><br>
              <a href='${h.url}' target='_blank' style='color:#17a2b8; text-decoration:none;'>Visit website â†’</a>
            </div>
          `);
        markers.addLayer(marker);
        marker.hospitalData = h;
        return marker;
      });

      map.addLayer(markers);

      // Enhanced search: match hospital name OR city
      const searchInput = document.getElementById('hospitalSearch');
      searchInput.addEventListener('input', function() {
        const query = this.value.trim().toLowerCase();
        if (!query) return;

        const matches = markerList.filter(m =>
          m.hospitalData.name.toLowerCase().includes(query) ||
          m.hospitalData.city.toLowerCase().includes(query)
        );

        if (matches.length === 1) {
          // Single match: zoom in close and open popup
          map.setView(matches[0].getLatLng(), 10);
          matches[0].openPopup();
        } else if (matches.length > 1) {
          // Multiple matches: fit map bounds to all results
          const group = L.featureGroup(matches);
          map.fitBounds(group.getBounds().pad(0.3));
          matches.forEach(m => m.openPopup());
        }
      });
    })();
  </script>
</body>
</html>
